<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <div th:replace="fragments/head :: head"></div>
        <script defer th:src="@{js/build.js}" type="text/javascript"></script>
        <script th:inline="javascript">
            var artifacts = [];
        </script>
    </head>

    <body>
        <div th:replace="fragments/nav-bar :: nav-bar"></div>
        <form id="build-content" th:object="${build}" th:action="@{'/builds/'+${user.id}}" method="post">
            <div>
                <div class="build-character-weapon" id="selected-character">
                    <img th:src="@{images/addToBuild.png}" alt="character" id="placeholder-character"><br>
                    <select th:field="${build.character}" name="build-character" id="build-character">
                        <option th:each="character : ${characters}" th:value="${character}">
                            <p th:text="${character.name}"></p>
                        </option>
                    </select>
                    
                </div>
                <div class="build-character-weapon" id="selected-weapon">
                    <img th:src="@{images/addToBuild.png}" alt="weapon">
                    <select th:field="${build.weapon}" name="build-weapon" id="build-weapon">
                        <option th:each="weapon : ${weapons}" th:value="${weapon}">
                            <p th:text="${weapon.name}"></p>
                        </option>
                    </select>
                </div>
            </div>
            <div class="build-artifacts">
                <img th:src="@{images/addToBuild.png}" alt="artifact" class="artifact-placeholder" id="flower-slot">
                <select th:field="${build.artifacts}">
                    <div th:each="artifact :${artifacts}">
                        <option th:if="${#strings.contains(artifact.slot, 'Flower')}" th:value="${artifact.id}">
                            <div th:each="substat : ${artifact.substats}">
                                <p th:text="${substat.statName}"></p>
                                <p th:text="${substat.statValue}"></p>
                            </div>
                        </option>
                    </div>
                </select>
                <img th:src="@{images/addToBuild.png}" alt="artifact" class="artifact-placeholder" id="feather-slot">
                <select th:field="${build.artifacts}">
                    
                </select>
                <img th:src="@{images/addToBuild.png}" alt="artifact" class="artifact-placeholder" id="sands-slot">
                <select th:field="${build.artifacts}">

                </select>
            </div>
            <div class="build-artifacts">
                <img th:src="@{images/addToBuild.png}" alt="artifact" class="artifact-placeholder" id="goblet-slot">
                <select th:field="${build.artifacts}">

                </select>
                <img th:src="@{images/addToBuild.png}" alt="artifact" class="artifact-placeholder" id="circlet-slot">
                <select th:field="${build.artifacts}">

                </select>
            </div>
            <div id="build-stats">
                <span class="stat-container dark-background">
                    <p>HP</p>
                    <p></p>
                </span>
                <span class="stat-container light-background">
                    <p>Attack</p>
                    <p></p>
                </span>
                <span class="stat-container dark-background">
                    <p>Defense</p>
                    <p></p>
                </span>
                <span class="stat-container light-background">
                    <p>Elemental Mastery</p>
                    <p></p>
                </span>
                <span class="stat-container dark-background">
                    <p>HP Percent</p>
                    <p></p>
                </span>
                <span class="stat-container light-background">
                    <p>Attack Percent</p>
                    <p></p>
                </span>
                <span class="stat-container dark-background">
                    <p>Defense Percent</p>
                    <p></p>
                </span>
                <span class="stat-container light-background">
                    <p>Energy Recharge</p>
                    <p></p>
                </span>
                <span class="stat-container dark-background">
                    <p>Crit</p>
                    <p></p>
                </span>
                <span class="stat-container light-background">
                    <p>Crit Damage</p>
                    <p></p>
                </span>
                <span class="stat-container dark-background">
                    <p>Physical Damage Bonus</p>
                    <p></p>
                </span>
                <span class="stat-container light-background">
                    <p>Elemental Damage Bonus</p>
                    <p></p>
                </span>
                <span class="stat-container dark-background">
                    <p>Healing Bonus</p>
                    <p></p>
                </span>
            </div>
            <button type="submit">Save build</button>
        </form>
    </body>
</html>